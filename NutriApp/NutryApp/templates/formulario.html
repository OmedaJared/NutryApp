{% extends "base.html" %}

{% block title %}Formulario - NutriApp{% endblock %}

{% block contenido %}
<div class="card-soft">
    <section>
        <h2 class="brand">Registro de datos personales</h2>
        <p class="accent">Ingresa tus datos para calcular tu IMC y tus calorías diarias aproximadas.</p>

        {% if error %}
            <p class="error"><strong>{{ error }}</strong></p>
        {% endif %}

        <form id="datosForm" action="{{ url_for('resultado') }}" method="post">
            <label>Nombre:</label><br>
            <input class="form-control" type="text" name="nombre" value="{{ nombre or '' }}" required><br>

            <label>Apellido:</label><br>
            <input class="form-control" type="text" name="apellido" value="{{ apellido or '' }}" required><br>

            <label>Edad (años):</label><br>
            <input class="form-control" type="number" name="edad" min="1" value="{{ edad or '' }}" required><br>

            <label>Peso (kg):</label><br>
            <input class="form-control" type="number" step="0.1" name="peso" value="{{ peso or '' }}" required><br>

            <label>Altura (m):</label><br>
            <input class="form-control" type="number" step="0.01" name="altura" value="{{ altura or '' }}" required><br>

            <label>Correo Electrónico:</label><br>
            <input class="form-control" type="email" name="correo_electronico" value="{{ correo_electronico or '' }}" required><br>

            <label>Contraseña:</label><br>
            <input class="form-control" type="password" name="contraseña" value="{{ contraseña or '' }}" required><br>

            <label>Género:</label><br>
            <select class="form-control" name="genero" required>
                <option value="masculino" {% if genero == 'masculino' %}selected{% endif %}>Masculino</option>
                <option value="femenino" {% if genero == 'femenino' %}selected{% endif %}>Femenino</option>
            </select><br>

            <div style="margin-top:10px;">
                <button class="btn-brand" type="submit">Calcular resultados</button>
                <button class="btn-brand" type="reset" style="margin-left:8px;">Limpiar (local)</button>
                <a class="btn-brand" href="{{ url_for('clear') }}" style="margin-left:8px; text-decoration:none;">Borrar datos (servidor)</a>
                <a class="btn-brand" href="{{ url_for('rutina') }}" style="margin-left:8px; text-decoration:none;">Ir a rutina</a>
            </div>
        </form>

        {% if imc %}
        <hr>
        <section>
            <h2 class="brand">Resultados nutricionales</h2>
            <p><strong>IMC:</strong> {{ imc }}</p>
            <p><strong>Clasificación:</strong> {{ clasificacion }}</p>
            <p><strong>Recomendación:</strong> {{ recomendacion }}</p>
            <p><strong>Calorías diarias estimadas:</strong> {{ calorias }} kcal</p>
        </section>
        {% endif %}
    </section>
</div>
{% endblock %}